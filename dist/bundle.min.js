var e;const l=[],t=["change","click","dragover","drop","height","input","mousedown","table-layout","width"],n=Object,r=Array,i=r.isArray,a=Map,s=Int32Array,o=queueMicrotask,c=Node.prototype,f=Element.prototype,u=document,p=u.createElement("template"),h=p.content;u.createElement("template").content.firstChild;const d=c.insertBefore,$=c.removeChild,g=c.cloneNode,m=f.setAttribute,y=f.removeAttribute,v=f.addEventListener,b=f.removeEventListener,k=(e,l)=>n.getOwnPropertyDescriptor(e,l),A=k(c,"firstChild").get,x=k(c,"nextSibling").get,w=k(c,"textContent").set,C=k(f,"innerHTML").set,N=k(f,"className").set,E=k(HTMLElement.prototype,"style").get,O=k(SVGElement.prototype,"style").get,S=n.seal({p:null,n:null,si:0,e:[]}),T=(e,l,t,n,r)=>({f:e,v:l,c:t,p:n,s1:r}),L=()=>{let e=S.e;if(e.length>0){S.e=[];for(let l=0;l<e.length;l++)e[l]()}},M=(e,l,t,n,r,i,a)=>{let s;for(let o=0;o<l.length;o++){let c=l[o],f=7&c,u=c>>9;if(0===f)e=n[u],s=void 0;else{let l=c>>3&63,n=i[l];if(4===f){let l=t[u];null===r?void 0!==n&&(e[l]=n):e[l]!==n&&(e[l]=n)}else{let i;if(null!==r&&(i=r[l]),i!==n)if(1===f)0===u?""!==n&&null!=n&&!1!==n?N.call(e,n):""!==i&&null!=i&&!1!==i&&N.call(e,""):1===u?""!==n&&null!=n&&!1!==n?null==i||""===i||!1===i?w.call(e,n):A.call(e).nodeValue=n:null!=i&&""!==i&&!1!==i&&w.call(e,""):""!==n&&null!=n&&!1!==n?C.call(e,n):""!==i&&null!=i&&!1!==i&&w.call(e,"");else if(7===f)n(e);else{let l=t[u];2===f?!1!==n&&null!=n?m.call(e,l,n):!1!==i&&null!=i&&y.call(e,l):3===f?e[l]=n:5===f?!1!==n&&null!=n?(void 0===s&&(s=!1===a?E.call(e):O.call(e)),s.setProperty(l,n)):!1!==i&&null!=i&&(void 0===s&&(s=!1===a?E.call(e):O.call(e)),s.removeProperty(l)):(null!=i&&!1!==i&&b.call(e,l,i),null!=n&&!1!==n&&v.call(e,l,n))}}}}},R=(e,l,t,n,r)=>{for(;;){let i=l[t++];if(1&i&&(r[++S.si]=e),2&i){let n=i>>2;if(n)R(A.call(e),l,t,t+=n,r);else{let l=e;r[++S.si]=e=x.call(e),l.remove()}}if(t===n)return;e=x.call(e)}},j=(e,l,t,n)=>{let i=t.length,a=r(i),s=T(l,n,a,e,null);for(;i>0;)a[--i]=B(s,t[i]);return s},D=(e,l,t,n)=>{if(!i(t))return J(l,!0),B(e,t);let a=l.c,s=a,o=a.length,c=t.length;if(c!==o){for(l.c=s=r(c);o>c;){let e=a[--o];null!==e&&J(e,!0)}for(;c>o;)s[--c]=B(l,t[c])}for(;c>0;)s[--c]=F(l,a[c],t[c],n);return l},F=(e,l,t,n)=>{if(null===l)return B(e,t);if(!1===t||null==t||""===t)return J(l,!0),null;let r=l.c,i=l.v,a=l.s1,s=l.f,o=127&s;if(l.f=o,l.v=t,16===o)return"object"!=typeof t?(i!==t&&(a.nodeValue=t),1024&n&&d.call(S.p,a,S.n),S.n=a,l):($.call(S.p,a),B(e,t));if(i===t)return I(l,n),l;if(l.f=o,8===o)return D(e,l,t,n);let c=t.d,f=t.p,u=i.p;if(i.d!==c)return J(l,!0),B(e,t);if(2===o)(s|n)&640||void 0===c.p2||!0!==c.p2(u,f)?l.c=F(l,r,a(f),n):null!==r&&I(r,n);else if(1===o){let e=S.p,t=c.p1,i=t.f,s=t.d,o=t.p,p=t.c,h=a[0];if(1024&n&&(n^=1024,d.call(e,h,S.n)),M(h,o,s,a,u,f,!!(4096&i)),null!==r){S.p=h,S.n=null;let t=0;for(let e=0;e<p.length;e++){let i=p[e],s=3&i,o=i>>2;0===s?r[t]=F(l,r[t++],f[o],n):1===s?S.n=a[o]:(S.p=a[o],S.n=null)}S.p=e}S.n=h}else 4===o?P(l,u,f,n):(u.v!==f.v&&(n|=512),l.c=F(l,r,f.c,n));return l},B=(e,l)=>{if(!1!==l&&null!=l){if("object"==typeof l)if(i(l))return j(e,8,l,l);else{let t=l.d,n=l.p,i=t.p1,a=7&t.f;if(1===a){let a=S.p,s=S.n,o=i.d,c=i.p,f=i.s,u=i.c,p=i.f,h=t.p2(),$=r(63&p);$[0]=h,f.length>0&&(S.si=0,R(A.call(h),f,0,f.length,$)),M(h,c,o,$,null,n,!!(4096&p));let g=T(1,l,null,e,$);if(u.length>0){let e=r(p>>6&63);g.c=e,S.p=h,S.n=null;let l=0;for(let t=0;t<u.length;t++){let r=u[t],i=3&r,a=r>>2;0===i?e[l++]=B(g,n[a]):1===i?S.n=$[a]:(S.p=$[a],S.n=null)}S.p=a}return S.n=h,d.call(a,h,s),g}if(2===a){let t={f:2,v:l,c:null,p:e,s1:null,s2:null},r=i(t);return t.c=B(t,r(n)),t.s1=r,t}if(4===a)return j(e,4,n.v,l);let s=T(64,l,null,e,null);return s.c=B(s,n.c),s}else if(""!==l){let t=S.n,n=u.createTextNode(l);return S.n=n,d.call(S.p,n,t),T(16,l,null,e,n)}}return null},I=(e,l)=>{let t=e.s1,n=e.v,r=e.c,i=e.f,a=127&i;if(e.f=a,1===a){let e=t[0];if(1024&l&&(l^=1024,d.call(S.p,e,S.n)),256&i){S.p=e,S.n=null;let i=S.p,a=n.d.p1.c,s=0;for(let e=0;e<a.length;e++){let n=a[e],i=3&n,o=n>>2;if(0===i){let e=r[s++];null!==e&&I(e,l)}else 1===i?S.n=t[o]:(S.p=t[o],S.n=null)}S.p=i}S.n=e}else if(16===a)1024&l&&d.call(S.p,t,S.n),S.n=t;else if(2===a)(i|l)&640?e.c=F(e,r,t(n.p),l):null!==r&&I(r,l);else if(64===a)null!==r&&I(r,l);else{let e=r.length;for(;--e>=0;){let t=r[e];null!==t&&I(t,l)}}},J=(e,l)=>{let t=e.f,n=e.c;if(!0===l&&17&t&&(l=!1,$.call(S.p,1&t?e.s1[0]:e.s1)),2&t){let l=e.s2;if(null!==l)if("function"==typeof l)l();else for(let e=0;e<l.length;e++)l[e]()}if(null!==n)if(i(n))for(let e=0;e<n.length;e++){let t=n[e];null!==t&&J(t,l)}else J(n,l)},P=(e,l,t,n)=>{let i=l.k,o=t.k,c=t.v,f=o.length,u=i.length,p=r(f);if(0===f)u>0&&J(e,!0);else if(0===u)for(;f>0;)p[--f]=B(e,c[f]);else{let l=e.c,t=u-1,r=f-1,h=0;e:for(;;){for(;i[t]===o[r];)if(p[r]=F(e,l[t--],c[r],n),h>--r||h>t)break e;for(;i[h]===o[h]&&++h<=t&&h<=r;);break}if(h>t)for(;r>=h;)p[r]=B(e,c[r--]);else if(h>r){f=h;do{let e=l[f++];null!==e&&J(e,!0)}while(f<=t)}else{let f=r-h+1,u=new s(f),d=new a;for(let e=0;e<f;e++){u[e]=-1;let l=h+e;d.set(o[l],l)}let $=0;for(let e=h;e<=t;e++){let t=l[e],n=d.get(i[e]);void 0!==n?($=$<n?n:0x3fffffff,u[n-h]=e,p[n]=t):null!==t&&J(t,!0)}for(1024&n||0x3fffffff!==$||W(u);f-- >0;){let l=c[r=f+h],t=u[f];p[r]=-1===t?B(e,l):F(e,p[r],l,n|1024*(0x3fffffff===$&&-2!==t))}}for(;h>0;)p[--h]=F(e,l[h],c[h],n)}e.c=p},W=e=>{let l,t,n,r,i=e.length,a=new s(i),o=new s(i),c=0,f=0;for(;-1===e[f];f++);for(o[0]=f++;f<i;f++)if(-1!==(t=e[f]))if(e[l=o[c]]<t)a[f]=l,o[++c]=f;else{for(n=0,r=c;n<r;)e[o[l=n+r>>1]]<t?n=l+1:r=l;t<e[o[n]]&&(n>0&&(a[f]=o[n-1]),o[n]=f)}for(l=o[c];c-- >=0;)e[l]=-2,l=a[l]},q=e=>()=>("string"==typeof e&&(p.innerHTML=e,e=h.firstChild),g.call(e,!0)),V=e=>()=>u.createElement(e),Y=(e,l,n,r,i,a=t)=>({f:1,p1:{f:l,p:n,c:r,s:i,d:a},p2:e}),H=(e,l)=>({d:e,p:l}),U=(e,l)=>{let t={f:2,p1:e,p2:l};return e=>({d:t,p:e})},z=e=>e.v.p,X=(e,l)=>{let t=e.s2;e.s2=null===t?l:"function"==typeof t?[t,l]:(t.push(l),t)},G=(e,l,t)=>{var n,r;return i=>{!0!==r&&void 0===t&&(void 0===r&&X(e,()=>{r=!1,void 0!==n&&n()}),r=!0,S.e.push(()=>{!0===r&&(r=!1,void 0!==n&&n(),n=l(i))}))}},K=e=>{if(!(128&e.f)){e.f|=128;let l=e,t=e.p;for(;null!==t;){if(256&t.f)return;l=t,t.f|=256,t=t.p}l.v.d.p1(l,l.s1)}},Z={f:4,p1:null,p2:null},Q=(e,l,t)=>({d:Z,p:{k:e.map(l),v:e.map(t)}}),_=(e,l)=>{for(;(l|e.f)&768;){let{p:t,n}=S;if(e.f=32,null!==e.c){let t=e.v.p;S.p=t.p,S.n=t.n,I(e.c,l),l=0,L()}S.p=t,S.n=n}},ee=(e={f:32,p1:e=>{o(()=>{_(e,0)})},p2:null},(l,t=null,n)=>T(32,{d:e,p:{p:l,n:t}},null,null,n)),el=(e,l)=>[()=>l,t=>{t!==l&&(l=t,K(e))}],et=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d{3,})?(?:Z|[-+]\d{2}:?\d{2}))?$/,en=/^(?:t(?:rue)?|f(?:alse)?|y(?:es)?|n(?:o)?|0|1)$/i,er=["	","|",";",","];function ei(e){return 65279===e.charCodeAt(0)?e.slice(1):e}const ea=JSON.stringify,es=e=>"string"==typeof e?ea(e):e;function eo(e,l){let{type:t,parse:n}=l,r=`r[${e}]`,i=null!=n?`c[${e}].parse(${r})`:"d"===t?`new Date(${r})`:"t"===t?`Date.parse(${r})`:"j"===t?`JSON.parse(${r})`:"n"===t?`+${r}`:"b"===t[0]?`${r} === ${ea(t.slice(2))} ? true : false`:r,{repl:a}=l,s=void 0!==a.NaN&&"n"===t?`${r} === 'NaN' ? ${es(a.NaN)} : `:"",o=void 0!==a.null?`${r} === 'null' || ${r} === 'NULL' ? ${es(a.null)} : `:"",c=void 0!==a.empty?`${r} === '' ? ${es(a.empty)} : `:"";return`${c} ${o} ${s} ${i}`}const ec=/\w+(?:\[|\]?[\.\[]?|$)/gm;function ef(e,l=!1,t=!1){let n="";if(l&&t){let l={},t=0,r=e.map(e=>e.name.replace(/\.(\d+)\.?/gi,"[$1]"));do{let e=r.shift(),n=/\s/.test(e)?[e]:[...e.matchAll(ec)].flatMap(e=>e.map(e=>e.replace("]",""))),i=l;do{let e=n.shift(),l=e,r=e.at(-1);if("."==r||"["==r){let t=i[l=e.slice(0,-1)]??("."==r?{}:[]);i=i[l]=t}else i[l]=`\xa6${t}\xa6`}while(n.length>0);t++}while(r.length>0);n=ea(l).replace(/"¦(\d+)¦"/g,(l,t)=>eo(+t,e[+t]))}else!l&&e.every(e=>"s"===e.type)?n="r":(n=l?"{":"[",e.forEach((e,t)=>{n+=l?`${ea(e.name)}:`:"";let r=eo(t,e);n+=`${r},`}),n+=l?"}":"]");return Function("c",`return r => (${n});`)(e)}function eu(e,l,t=0,n=()=>!0,r=!0,i){e=ei(e);let{row:a,col:s,encl:o,esc:c,trim:f}=l;o??=e.indexOf('"')>-1?'"':"",c??=o;let u=`${c}${o}`,p=i??l.cols.length,h=null!=i,d=a.length,$=s.length,g=o.charCodeAt(0),m=c.charCodeAt(0),y=a.charCodeAt(0),v=s.charCodeAt(0),b=["",!1],k=0,A=e.length-1,x=0,w=Array(p).fill(""),C=w.slice(),N=0,E=p-1,O=-1;if(""===o){for(;k<=A;)if(N===E){let l=e.indexOf(a,k);if(-1===l){if(!r)break;l=A+1}let i=e.slice(k,l);if(C[N]=f?i.trim():i,--t<0&&!1===n(C))return b[1]=!0,b;C=w.slice(),N=0,O=-1,x=k=l+d}else if(0===N&&e.charCodeAt(k)===y)k+=d;else{let l=e.indexOf(s,k);if(-1===l&&!r)break;let t=e.slice(k,l);C[N]=f?t.trim():t,k=l+$,O=N++}return--t<0&&r&&N===E&&O>-1&&n(C),b[0]=r?"":e.slice(x),b}let S=h?RegExp(`[^${s}${a}]+`,"my"):null,T=0,L="",M=0,R=k;for(;k<=A;){if(M=e.charCodeAt(k),0===T)if(M===g){if(T=2,k+=1,R=k,k>A)break;M=e.charCodeAt(k)}else if(M===v||M===y){if(M===y&&0===N){k+=d;continue}if(C[N]=L,O=N,N+=1,k+=1,L="",M===y){if(h&&O<E&&0===x&&(C.length=w.length=O+1,E=O),--t<0&&!1===n(C))return b[1]=!0,b;C=w.slice(),N=0,O=-1,k+=d-1,x=k}if(k>A)break}else if(f&&32===M)for(;32===M;)M=e.charCodeAt(++k);else T=1;if(2===T){let l=!1,t=0;for(;;)if(M===g)if(g===m){if(k+1>A){t=k,k=A+1;break}if(e.charCodeAt(k+1)===g){if(l=!0,(k+=2)>A)break;M=e.charCodeAt(k)}else{T=0,t=k,k+=1;break}}else if(e.charCodeAt(k-1)===m){if(l=!0,(k+=1)>A)break;M=e.charCodeAt(k)}else{T=0,t=k,k+=1;break}else{let l=e.indexOf(o,k);if(-1===l){k=A+1;break}k=l,M=g}(0===T||k>A)&&(L=l?e.slice(R,t).replaceAll(u,o):e.slice(R,t))}else if(1===T)if(M===v||M===y){if(M===y&&0===N){k+=d;continue}if(C[N]=L,O=N,N+=1,k+=1,L="",M===y){if(h&&O<E&&0===x&&(C.length=w.length=O+1,E=O),--t<0&&!1===n(C))return b[1]=!0,b;C=w.slice(),N=0,O=-1,k+=d-1,x=k}T=0}else if(h){S.lastIndex=k;let l=S.exec(e)[0];L=l,k+=l.length}else{let l=e.indexOf(N===E?a:s,k);-1===l&&(l=A+1);let t=e.slice(k,l);L=f?t.trim():t,k=l}}r&&N===E&&(C[N]=L,--t<0&&n(C),T=0);let j=!r&&(0!==T||(-1===O?""!==L:O<E));return b[0]=j?e.slice(x):"",b}const ep=e=>JSON.stringify(e),eh=(e,l=!1)=>{if(null==e||""==e||"$"==e||"$i"==e)return e;let t="";return("."==e[0]||"["==e[0])&&(t=e.replace(/[^$\w.?\[\]-]/ig,""),l&&(t=t.replace(/\.\??/ig,".?").replace(/(?:\.\?)?\[/ig,".?["))),"$"+t},ed={};let e$={chain:!1,ops:ed};const eg=(e,l=e$)=>(function(e,l=e$,t=!1){let{expr:n,stmts:r}=function e(l,t=e$,n=[]){let r=l[0],i=l[1],a=l[2],s="",o="!"==r[0]&&"!="!=r&&"!=="!=r&&"!!"!=r&&"!"!=r;if(r=o?r.slice(1):r,"function"==typeof(t.ops??ed)[r]&&/^\w+$/.test(r))n.push(`let $args = ${JSON.stringify(i??null)};`),s=`$ops.${r}($, $i, $args)`;else{let o="&&"!=r&&"||"!=r?eh(i,t.chain):"";switch(r){case"&&":case"||":let c=l.slice(1).map(l=>e(l,t,n));s=c.length>1?`(${c.map(e=>e.expr).join(` ${r} `)})`:c[0].expr;break;case"truthy":case"!!":s=`Boolean(${o})`;break;case"falsy":case"!":s=`!Boolean(${o})`;break;case"==":case"!=":case"===":case"!==":case">=":case"<=":case"<":case">":s=`${o} ${r} ${ep(a)}`;break;case"some":case"every":s=`${o}.${r}(($, $i) => ${e(a,t,n).expr})`;break;case",":case"in":s=`$${n.length}.has(${o})`,n.push(`let $${n.length} = new Set(${ep(a)});`);break;case"-":case"[]":case"()":case"[)":case"(]":if(!Array.isArray(a))break;let[f,u]=a,[p,h]=r;s=`${o} ${"["==p||"-"==p?">=":">"} ${ep(f)} && ${o} ${"]"==h||null==h?"<=":"<"} ${ep(u)}`;break;case"startsWith":case"^":s=`${o}.startsWith(${ep(a)})`;break;case"endsWith":case"$":s=`${o}.endsWith(${ep(a)})`;break;case"includes":case"*":s=`${o}.includes(${ep(a)})`;break;case"regexp":case"regexpi":case"/":case"/i":let d="i"==r.at(-1)?"i":"";s=`$${n.length}.test(${o})`,n.push(`let $${n.length} = new RegExp(${ep(a)}, "${d}");`);break;case"isInteger":case"isFinite":case"isNaN":s=`Number.${r}(${o})`;break;case"isArray":s=`Array.isArray(${o})`}}return{stmts:n,expr:s=o?`!(${s})`:s}}(e,l);return Function("$ops",`
    ${r.join("\n")}
    return arr => {
      let out = [];
      for (let $i = 0; $i < arr.length; $i++) {
        let $ = arr[$i];
        ${n} && out.push(${t?"$i":"$"});
      }
      return out;
    };
  `)(l.ops??ed)})(e,l);function em(e){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}function ey(e,l){window.addEventListener(e,l,{capture:!0})}function ev(e,l){window.removeEventListener(e,l,{capture:!0})}const eb=new Intl.Collator("en",{numeric:!0,sensitivity:"base"}).compare,ek=(e,l,t,n=!1)=>{let r=[];for(let e=0;e<t.length;e++)0!=t[e]&&r.push([l[e],e,t[e]]);if(0==r.length)return null;r.sort((e,l)=>e[0]-l[0]);let i=r.map(l=>{let t=e[l[1]],r=`a[${l[1]}]`,i=`b[${l[1]}]`;return"n"==t.type?`${l[2]} * (${r} - ${i})`:n?`${l[2]} * (${r} > ${i} ? 1 : ${r} < ${i} ? -1 : 0)`:`${l[2]} * cmp(${r}, ${i})`}).join(" || ");return Function("cmp",`
    return (a, b) => ${i};
  `)(eb)},eA=e=>{let l=e.filter(e=>""!=e[2]);return 0==l.length?e=>e:eg(["&&",...l.flatMap(e=>[["!==",e[1],null],e])])},ex=Y(q('<div style="width:600px;height:600px;background:pink;user-select:none">Drag/drop CSV here...</div>'),1,[1542,1038],l,l),ew=U(e=>{let l=l=>{for(let t of(l.preventDefault(),l.dataTransfer.items))if("file"==t.kind){let l=t.getAsFile();l.name.endsWith(".csv")&&l.text().then(l=>{console.time("parse");let t=function(e,l,t){let{header:n,col:r,row:i,encl:a,esc:s,trim:o=!1}=l??{};n??=e=>[e[0]],t??=10,e=ei(e);let c=RegExp(`(.*)(${i??"\r\n|\r|\n"})`),f=e.match(c),u=f[1];i??=f[2];let p={skip:1,col:r??=er.find(e=>u.indexOf(e)>-1)??",",row:i,encl:a,esc:s,trim:o,cols:[]},h=u.split(r).length,d=[];eu(e,p,0,e=>(d.push(e),d.length<t),!0,h);let $=n(d)??[],g=p.skip=$.length,m=$.find(e=>null!=e)??[...Array(d[0].length).keys()];return d.splice(0,g),m.forEach((e,l)=>{let t=function(e,l){let t=l.findLast(l=>""!==l[e]&&"null"!==l[e]&&"NULL"!==l[e]&&"NaN"!==l[e]),n="s";if(null!=t){let l=t[e];n=et.test(l)?"d":+l==+l?"n":en.test(l)?"b:"+function(e){let[l,t=""]=e;return"1"==l||"0"==l?"1":"t"==l||"f"==l?""==t?"t":"true":"T"==l||"F"==l?""==t?"T":"R"==t||"A"===t?"TRUE":"True":"y"==l||"n"==l?""==t?"y":"yes":"Y"==l||"N"==l?""==t?"Y":"E"==t||"O"===t?"YES":"Yes":""}(l):!function(e){if("["===e[0]||"{"===e[0])try{return JSON.parse(e),!0}catch{}return!1}(l)?n:"j"}return n}(l,d);p.cols.push({name:e,type:t,repl:{empty:null,NaN:void 0,null:void 0}})}),p}(l,{},100);t.cols.forEach(e=>{"d"===e.type&&(e.type="s")});let n=(function(e){let{skip:l,cols:t}=e,n=null,r=null,i=null,a=null,s=null,o=0,c=null,f=null,u="",p=null;function h(){o=0,u="",c=f=p=null}let d=(e,l,t)=>(t(l,e),!0),$=()=>[],g=()=>t.map(e=>[]),m=(e,l)=>{e.push(l)},y=Function("buf","row",`
		${e.cols.map((e,l)=>"buf["+l+"].push(row["+l+"])").join(";")};
	`);function v(t,n,r){let i=null;return(a,s=d)=>{i??=r();let c=null==p?l:0,f=p??=t(),$=0===o||2===o,g=!1;if(Array.isArray(a))for(let e=0;e<a.length;e++){let l=a[e];if(!1===s(i(l),f,n)){g=!0;break}}else[u,g]=eu(a,e,c,e=>s(i(e),f,n),$);return g&&0!==o&&h(),$&&(p=null),f}}let b=()=>n??=e=>e,k=()=>r??=ef(t,!1,!1),A=v($,m,b),x=v($,m,()=>s??=ef(t.map(e=>({...e,type:"s",repl:{...e.repl,empty:void 0}})),!0,!1)),w=v($,m,k),C=v($,m,()=>i??=ef(t,!0,!1)),N=v($,m,()=>a??=ef(t,!0,!0)),E=v(g,y,k);return{schema:e,stringArrs:A,stringObjs:x,stringCols:v(g,y,b),typedArrs:w,typedObjs:C,typedDeep:N,typedCols:E,chunk(e,l=A,t=d){c??=l,f??=t,o=1,c(u+e,f)},end(){o=2;let e=c(u,f);return h(),e}}})(t).typedArrs(l);console.timeEnd("parse"),z(e).setData({schema:t,data:n})})}},t=e=>{e.preventDefault()};return()=>H(ex,[l,t])}),eC=Y(V("tr"),65,l,[0],l),eN=Y(V("td"),1,[513],l,l),eE=e=>H(eN,[e]),eO=[1],eS=Y(q('<span class="col-sort"><sup></sup></span>'),130,l,[5,0,7,4],eO),eT=Y(q('<th><div class="col-resize"></div></th>'),130,[518,4109,512,3094],[16,12],eO),eL=Y(q('<th><select><option title="Contains">*</option><option title="Starts with">^</option><option title="NOT Contains">!*</option><option title="NOT Starts with">!^</option></select><input type="text" placeholder="Filter..."></th>'),3,[512,6,1024,2574],l,[1,1]),eM=Y(q('<div class="scroll-wrap"><table><thead><tr class="col-names"></tr><tr class="col-filts"></tr></thead><tbody><tr></tr><tr></tr></tbody></table></div>'),199,[7,512,3597,2560,2085,3072,2101],[19,25,20,15,12,11,8],[27,10,1,1,11,1,1]),eR=U(e=>{let l,t=e=>{l=e},n=z(e),r=n.schema.cols,i=r.map((e,l)=>["*",`[${l}]`,""]),a=Array(r.length).fill(0),s=Array(r.length).fill(0),o=n.data,c=n.data,f=(e,l)=>{let t=a[e],n=s[e];if(1==t)t=-1;else if(0==t)l||(s.fill(0),a.fill(0)),t=1,n=Math.max(...s)+1;else{for(let e=0;e<s.length;e++)s[e]>n&&s[e]--;t=0,n=0}a[e]=t,s[e]=n,p()},u=()=>{o=eA(i)(n.data),p()},p=()=>{let t=ek(r,s,a);c=null==t?o:o.slice().sort(t),l.scrollTop=0,K(e)},h=(e,l)=>{i[e][0]=l,u()},d=(e,l)=>{i[e][2]=l,u()},$=0,g=0,m=Math.min(100,n.data.length),y=0,v=Array(r.length).fill(null),b=(e,l)=>Math.floor(e/l)*l,k=()=>{let e=l.getBoundingClientRect(),t=l.querySelector("thead").getBoundingClientRect(),n=e.height-t.height;if(0==$){$=l.querySelector("tbody").getBoundingClientRect().height/m;let e=0;for(let t of l.querySelectorAll(".col-names th"))v[e++]=t.getBoundingClientRect().width}m=2*(g=Math.floor(n/$))},A=(t=!1)=>{let n=b(l.scrollTop/$,g);(t||y!=n)&&(y=n,K(e))};G(e,()=>{l.addEventListener("scroll",()=>A());let e=new ResizeObserver(()=>{k(),A(!0)});return e.observe(l),()=>{e.unobserve(l),e.disconnect()}})();let x=r.map((e,l)=>e=>f(l,e.shiftKey)),w=r.map((e,l)=>e=>h(l,e.target.value)),C=r.map((e,l)=>e=>d(l,e.target.value)),N=r.map((l,t)=>l=>{if(0!==l.button)return;let n=l.clientX,r=v[t],i=l=>{let i=r+(l.clientX-n);i>500||i<50||(v[t]=i,K(e))},a=e=>{ev("mousemove",i),ev("click",a),em(e)};ey("mousemove",i),ey("click",a),em(l)}),E=e=>H(eC,[e.map(S)]),O=U(e=>E,()=>!0),S=U(e=>eE,()=>!0);return()=>{let e=c.slice(y,y+m),l=c.length*$,n=0==$?0:y*$,i=0==$?0:l-Math.min(l,$*(y+m));return H(eM,[t,$>0?"fixed":"auto",r.map((e,l)=>H(eT,[x[l],$>0?`${v[l]}px`:"auto",N[l],e.name,0!=a[l]?H(eS,[1==a[l]?`▲`:"▼",s[l]]):null])),r.map((e,l)=>H(eL,[w[l],C[l]])),`${n}px`,Q(e,e=>e,O),`${i}px`])}}),ej=U(e=>{let[l,t]=el(e,null);return()=>{let e=l();return null==e?ew({setData:t}):eR(e)}});((e,l,t)=>{let{p:n,n:r}=S,i=e.v.p;S.p=i.p,S.n=i.n,e.f=32,e.c=F(e,e.c,l,0),L(),S.p=n,S.n=r,_(e,0)})(ee(document.body),ej(),0);
//# sourceMappingURL=bundle.min.js.map
