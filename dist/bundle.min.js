var e;const l=[],t=["change","click","dragover","drop","grid-template-columns","height","input","max-width","min-width","mousedown","width"],n=Object,r=Array,i=r.isArray,a=Map,s=Int32Array,o=queueMicrotask,c=Node.prototype,f=Element.prototype,u=document,p=u.createElement("template"),h=p.content,d=u.createElement("template"),$=u.createElementNS("http://www.w3.org/2000/svg","svg");d.content.appendChild($),d.content.firstChild;const g=c.insertBefore,m=c.removeChild,v=c.cloneNode,y=f.setAttribute,b=f.removeAttribute,k=f.addEventListener,x=f.removeEventListener,w=(e,l)=>n.getOwnPropertyDescriptor(e,l),A=w(c,"firstChild").get,C=w(c,"nextSibling").get,N=w(c,"textContent").set,E=w(f,"innerHTML").set,O=w(f,"className").set,S=w(HTMLElement.prototype,"style").get,T=w(SVGElement.prototype,"style").get,L=n.seal({p:null,n:null,si:0,e:[]}),M=(e,l,t,n,r)=>({f:e,v:l,c:t,p:n,s1:r}),R=()=>{let e=L.e;if(e.length>0){L.e=[];for(let l=0;l<e.length;l++)e[l]()}},j=(e,l,t,n,r,i,a)=>{let s;for(let o=0;o<l.length;o++){let c=l[o],f=7&c,u=c>>9;if(0===f)e=n[u],s=void 0;else{let l=c>>3&63,n=i[l];if(4===f){let l=t[u];null===r?void 0!==n&&(e[l]=n):e[l]!==n&&(e[l]=n)}else{let i;if(null!==r&&(i=r[l]),i!==n)if(1===f)0===u?""!==n&&null!=n&&!1!==n?O.call(e,n):""!==i&&null!=i&&!1!==i&&O.call(e,""):1===u?""!==n&&null!=n&&!1!==n?null==i||""===i||!1===i?N.call(e,n):A.call(e).nodeValue=n:null!=i&&""!==i&&!1!==i&&N.call(e,""):""!==n&&null!=n&&!1!==n?E.call(e,n):""!==i&&null!=i&&!1!==i&&N.call(e,"");else if(7===f)n(e);else{let l=t[u];2===f?!1!==n&&null!=n?y.call(e,l,n):!1!==i&&null!=i&&b.call(e,l):3===f?e[l]=n:5===f?!1!==n&&null!=n?(void 0===s&&(s=!1===a?S.call(e):T.call(e)),s.setProperty(l,n)):!1!==i&&null!=i&&(void 0===s&&(s=!1===a?S.call(e):T.call(e)),s.removeProperty(l)):(null!=i&&!1!==i&&x.call(e,l,i),null!=n&&!1!==n&&k.call(e,l,n))}}}}},D=(e,l,t,n,r)=>{for(;;){let i=l[t++];if(1&i&&(r[++L.si]=e),2&i){let n=i>>2;if(n)D(A.call(e),l,t,t+=n,r);else{let l=e;r[++L.si]=e=C.call(e),l.remove()}}if(t===n)return;e=C.call(e)}},B=(e,l,t,n)=>{let i=t.length,a=r(i),s=M(l,n,a,e,null);for(;i>0;)a[--i]=I(s,t[i]);return s},F=(e,l,t,n)=>{if(null===l)return I(e,t);if(!1===t||null==t||""===t)return P(l,!0),null;let a=l.c,s=l.v,o=l.s1,c=l.f,f=127&c;if(l.f=f,l.v=t,16===f)return"object"!=typeof t?(s!==t&&(o.nodeValue=t),1024&n&&g.call(L.p,o,L.n),L.n=o,l):(m.call(L.p,o),I(e,t));if(s===t)return J(l,n),l;if(l.f=f,8===f)return((e,l,t,n)=>{if(!i(t))return P(l,!0),I(e,t);let a=l.c,s=a,o=a.length,c=t.length;if(c!==o){for(l.c=s=r(c);o>c;){let e=a[--o];null!==e&&P(e,!0)}for(;c>o;)s[--c]=I(l,t[c])}for(;c>0;)s[--c]=F(l,a[c],t[c],n);return l})(e,l,t,n);let u=t.d,p=t.p,h=s.p;if(s.d!==u)return P(l,!0),I(e,t);if(2===f)(c|n)&640||void 0===u.p2||!0!==u.p2(h,p)?l.c=F(l,a,o(p),n):null!==a&&J(a,n);else if(1===f){let e=L.p,t=u.p1,r=t.f,i=t.d,s=t.p,c=t.c,f=o[0];if(1024&n&&(n^=1024,g.call(e,f,L.n)),j(f,s,i,o,h,p,!!(4096&r)),null!==a){L.p=f,L.n=null;let t=0;for(let e=0;e<c.length;e++){let r=c[e],i=3&r,s=r>>2;0===i?a[t]=F(l,a[t++],p[s],n):1===i?L.n=o[s]:(L.p=o[s],L.n=null)}L.p=e}L.n=f}else 4===f?W(l,h,p,n):(h.v!==p.v&&(n|=512),l.c=F(l,a,p.c,n));return l},I=(e,l)=>{if(!1!==l&&null!=l){if("object"==typeof l)if(i(l))return B(e,8,l,l);else{let t=l.d,n=l.p,i=t.p1,a=7&t.f;if(1===a){let a=L.p,s=L.n,o=i.d,c=i.p,f=i.s,u=i.c,p=i.f,h=t.p2(),d=r(63&p);d[0]=h,f.length>0&&(L.si=0,D(A.call(h),f,0,f.length,d)),j(h,c,o,d,null,n,!!(4096&p));let $=M(1,l,null,e,d);if(u.length>0){let e=r(p>>6&63);$.c=e,L.p=h,L.n=null;let l=0;for(let t=0;t<u.length;t++){let r=u[t],i=3&r,a=r>>2;0===i?e[l++]=I($,n[a]):1===i?L.n=d[a]:(L.p=d[a],L.n=null)}L.p=a}return L.n=h,g.call(a,h,s),$}if(2===a){let t={f:2,v:l,c:null,p:e,s1:null,s2:null},r=i(t);return t.c=I(t,r(n)),t.s1=r,t}if(4===a)return B(e,4,n.v,l);let s=M(64,l,null,e,null);return s.c=I(s,n.c),s}else if(""!==l){let t=L.n,n=u.createTextNode(l);return L.n=n,g.call(L.p,n,t),M(16,l,null,e,n)}}return null},J=(e,l)=>{let t=e.s1,n=e.v,r=e.c,i=e.f,a=127&i;if(e.f=a,1===a){let e=t[0];if(1024&l&&(l^=1024,g.call(L.p,e,L.n)),256&i){L.p=e,L.n=null;let i=L.p,a=n.d.p1.c,s=0;for(let e=0;e<a.length;e++){let n=a[e],i=3&n,o=n>>2;if(0===i){let e=r[s++];null!==e&&J(e,l)}else 1===i?L.n=t[o]:(L.p=t[o],L.n=null)}L.p=i}L.n=e}else if(16===a)1024&l&&g.call(L.p,t,L.n),L.n=t;else if(2===a)(i|l)&640?e.c=F(e,r,t(n.p),l):null!==r&&J(r,l);else if(64===a)null!==r&&J(r,l);else{let e=r.length;for(;--e>=0;){let t=r[e];null!==t&&J(t,l)}}},P=(e,l)=>{let t=e.f,n=e.c;if(!0===l&&17&t&&(l=!1,m.call(L.p,1&t?e.s1[0]:e.s1)),2&t){let l=e.s2;if(null!==l)if("function"==typeof l)l();else for(let e=0;e<l.length;e++)l[e]()}if(null!==n)if(i(n))for(let e=0;e<n.length;e++){let t=n[e];null!==t&&P(t,l)}else P(n,l)},W=(e,l,t,n)=>{let i=l.k,o=t.k,c=t.v,f=o.length,u=i.length,p=r(f);if(0===f)u>0&&P(e,!0);else if(0===u)for(;f>0;)p[--f]=I(e,c[f]);else{let l=e.c,t=u-1,r=f-1,h=0;e:for(;;){for(;i[t]===o[r];)if(p[r]=F(e,l[t--],c[r],n),h>--r||h>t)break e;for(;i[h]===o[h]&&++h<=t&&h<=r;);break}if(h>t)for(;r>=h;)p[r]=I(e,c[r--]);else if(h>r){f=h;do{let e=l[f++];null!==e&&P(e,!0)}while(f<=t)}else{let f=r-h+1,u=new s(f),d=new a;for(let e=0;e<f;e++){u[e]=-1;let l=h+e;d.set(o[l],l)}let $=0;for(let e=h;e<=t;e++){let t=l[e],n=d.get(i[e]);void 0!==n?($=$<n?n:0x3fffffff,u[n-h]=e,p[n]=t):null!==t&&P(t,!0)}for(1024&n||0x3fffffff!==$||q(u);f-- >0;){let l=c[r=f+h],t=u[f];p[r]=-1===t?I(e,l):F(e,p[r],l,n|1024*(0x3fffffff===$&&-2!==t))}}for(;h>0;)p[--h]=F(e,l[h],c[h],n)}e.c=p},q=e=>{let l,t,n,r,i=e.length,a=new s(i),o=new s(i),c=0,f=0;for(;-1===e[f];f++);for(o[0]=f++;f<i;f++)if(-1!==(t=e[f]))if(e[l=o[c]]<t)a[f]=l,o[++c]=f;else{for(n=0,r=c;n<r;)e[o[l=n+r>>1]]<t?n=l+1:r=l;t<e[o[n]]&&(n>0&&(a[f]=o[n-1]),o[n]=f)}for(l=o[c];c-- >=0;)e[l]=-2,l=a[l]},V=e=>()=>("string"==typeof e&&(p.innerHTML=e,e=h.firstChild),v.call(e,!0)),Y=(e,l,n,r,i,a=t)=>({f:1,p1:{f:l,p:n,c:r,s:i,d:a},p2:e}),H=(e,l)=>({d:e,p:l}),U=(e,l)=>{let t={f:2,p1:e,p2:l};return e=>({d:t,p:e})},z=e=>e.v.p,X=e=>{if(!(128&e.f)){e.f|=128;let l=e,t=e.p;for(;null!==t;){if(256&t.f)return;l=t,t.f|=256,t=t.p}l.v.d.p1(l,l.s1)}},G={f:4,p1:null,p2:null},K=(e,l)=>{for(;(l|e.f)&768;){let{p:t,n}=L;if(e.f=32,null!==e.c){let t=e.v.p;L.p=t.p,L.n=t.n,J(e.c,l),l=0,R()}L.p=t,L.n=n}},Z=(e={f:32,p1:e=>{o(()=>{K(e,0)})},p2:null},(l,t=null,n)=>M(32,{d:e,p:{p:l,n:t}},null,null,n)),Q=e=>JSON.stringify(e),_={};let ee={chain:!1,ops:_};const el=new Intl.Collator("en",{numeric:!0,sensitivity:"base"}).compare;function et(e){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}function en(e,l){window.addEventListener(e,l,{capture:!0})}function er(e,l){window.removeEventListener(e,l,{capture:!0})}const ei=Y(()=>u.createElement("tr"),65,l,[0],l),ea=Y(V('<td tabindex="0"></td>'),1,[513],l,l),es=e=>H(ea,[e]),eo=[1],ec=Y(V('<span class="col-sort"><sup></sup></span>'),130,l,[5,0,7,4],eo),ef=Y(V('<th tabindex="0"><div class="col-resize"></div></th>'),130,[518,4109,3605,5149,512,4646],[24,20],eo),eu=Y(V('<th tabindex="0"><select><option title="Contains">*</option><option title="Starts with">^</option><option title="NOT Contains">!*</option><option title="NOT Starts with">!^</option></select><input type="text" placeholder="Filter..."></th>'),3,[512,6,1024,3086],l,[1,1]),ep=Y(V('<div class="scroll-wrap"><table id="snafu"><thead><tr class="col-names"></tr><tr class="col-filts"></tr></thead><tbody><tr class="spacer"></tr><tr class="spacer"></tr></tbody></table></div>'),199,[7,512,2061,2560,2597,3072,2613],[19,25,20,15,12,11,8],[27,10,1,1,11,1,1]),eh=U(e=>{var l,t,n;let r,i=e=>{r=e},a=z(e),s=a.schema.cols,o=s.map((e,l)=>["*",`[${l}]`,""]),c=Array(s.length).fill(0),f=Array(s.length).fill(0),u=a.data,p=a.data,h=()=>{let e;u=(0==(e=o.filter(e=>""!=e[2])).length?e=>e:((e,l=ee)=>(function(e,l=ee,t=!1){let{expr:n,stmts:r}=function e(l,t=ee,n=[]){let r=l[0],i=l[1],a=l[2],s="",o="!"==r[0]&&"!="!=r&&"!=="!=r&&"!!"!=r&&"!"!=r;if(r=o?r.slice(1):r,"function"==typeof(t.ops??_)[r]&&/^\w+$/.test(r))n.push(`let $args = ${JSON.stringify(i??null)};`),s=`$ops.${r}($, $i, $args)`;else{let o="&&"!=r&&"||"!=r?((e,l=!1)=>{if(null==e||""==e||"$"==e||"$i"==e)return e;let t="";return("."==e[0]||"["==e[0])&&(t=e.replace(/[^$\w.?\[\]-]/ig,""),l&&(t=t.replace(/\.\??/ig,".?").replace(/(?:\.\?)?\[/ig,".?["))),"$"+t})(i,t.chain):"";switch(r){case"&&":case"||":let c=l.slice(1).map(l=>e(l,t,n));s=c.length>1?`(${c.map(e=>e.expr).join(` ${r} `)})`:c[0].expr;break;case"truthy":case"!!":s=`Boolean(${o})`;break;case"falsy":case"!":s=`!Boolean(${o})`;break;case"==":case"!=":case"===":case"!==":case">=":case"<=":case"<":case">":s=`${o} ${r} ${Q(a)}`;break;case"some":case"every":s=`${o}.${r}(($, $i) => ${e(a,t,n).expr})`;break;case",":case"in":s=`$${n.length}.has(${o})`,n.push(`let $${n.length} = new Set(${Q(a)});`);break;case"-":case"[]":case"()":case"[)":case"(]":if(!Array.isArray(a))break;let[f,u]=a,[p,h]=r;s=`${o} ${"["==p||"-"==p?">=":">"} ${Q(f)} && ${o} ${"]"==h||null==h?"<=":"<"} ${Q(u)}`;break;case"startsWith":case"^":s=`${o}.startsWith(${Q(a)})`;break;case"endsWith":case"$":s=`${o}.endsWith(${Q(a)})`;break;case"includes":case"*":s=`${o}.includes(${Q(a)})`;break;case"regexp":case"regexpi":case"/":case"/i":let d="i"==r.at(-1)?"i":"";s=`$${n.length}.test(${o})`,n.push(`let $${n.length} = new RegExp(${Q(a)}, "${d}");`);break;case"isInteger":case"isFinite":case"isNaN":s=`Number.${r}(${o})`;break;case"isArray":s=`Array.isArray(${o})`}}return{stmts:n,expr:s=o?`!(${s})`:s}}(e,l);return Function("$ops",`
    ${r.join("\n")}
    return arr => {
      let out = [];
      for (let $i = 0; $i < arr.length; $i++) {
        let $ = arr[$i];
        ${n} && out.push(${t?"$i":"$"});
      }
      return out;
    };
  `)(l.ops??_)})(e,l))(["&&",...e.flatMap(e=>[["!==",e[1],null],e])]))(a.data),d()},d=()=>{let l=((e,l,t,n=!1)=>{let r=[];for(let e=0;e<t.length;e++)0!=t[e]&&r.push([l[e],e,t[e]]);if(0==r.length)return null;r.sort((e,l)=>e[0]-l[0]);let i=r.map(l=>{let t=e[l[1]],r=`a[${l[1]}]`,i=`b[${l[1]}]`;return"n"==t.type?`${l[2]} * (${r} - ${i})`:n?`${l[2]} * (${r} > ${i} ? 1 : ${r} < ${i} ? -1 : 0)`:`${l[2]} * cmp(${r}, ${i})`}).join(" || ");return Function("cmp",`
    return (a, b) => ${i};
  `)(el)})(s,f,c);p=null==l?u:u.slice().sort(l),r.scrollTop=0,X(e)},$=0,g=Math.min(100,a.data.length),m=0,v=Array(s.length).fill(null),y=(l=!1)=>{let t=Math.max(0,15*Math.floor(r.scrollTop/$/15));(l||m!=t)&&(m=t,X(e))};(l=()=>{r.addEventListener("scroll",()=>y());let e=new ResizeObserver(()=>{(()=>{let e=r.getBoundingClientRect(),l=r.querySelector("thead").getBoundingClientRect(),t=e.height-l.height;if(0==$){$=r.querySelector("tbody").getBoundingClientRect().height/g;let e=0;for(let l of r.querySelectorAll(".col-names th")){var n;v[e++]=(n=l.getBoundingClientRect().width,n<w?w:n>A?A:n)}}g=Math.floor(t/$)+30})(),y(!0)});return e.observe(r),()=>{e.unobserve(r),e.disconnect()}},r=>{!0!==n&&(void 0===n&&((e,l)=>{let t=e.s2;e.s2=null===t?l:"function"==typeof t?[t,l]:(t.push(l),t)})(e,()=>{n=!1,void 0!==t&&t()}),n=!0,L.e.push(()=>{!0===n&&(n=!1,void 0!==t&&t(),t=l(r))}))})();let b=s.map((e,l)=>e=>((e,l)=>{let t=c[e],n=f[e];if(1==t)t=-1;else if(0==t)l||(f.fill(0),c.fill(0)),t=1,n=Math.max(...f)+1;else{for(let e=0;e<f.length;e++)f[e]>n&&f[e]--;t=0,n=0}c[e]=t,f[e]=n,d()})(l,e.shiftKey)),k=s.map((e,l)=>e=>{var t;return t=e.target.value,void(o[l][0]=t,h())}),x=s.map((e,l)=>e=>{var t;return t=e.target.value,void(o[l][2]=t,h())}),w=50,A=500,C=s.map((l,t)=>l=>{if(0!==l.button)return;let n=l.clientX,r=v[t],i=l=>{let i=r+(l.clientX-n);i>A||i<w||(v[t]=i,X(e))},a=e=>{er("mousemove",i),er("click",a),et(e)};en("mousemove",i),en("click",a),et(l)}),N=e=>H(ei,[e.map(O)]),E=U(e=>N,()=>!0),O=U(e=>es,()=>!0),S=s.map(e=>"1fr").join(" ");return()=>{let e,l=p.slice(m,m+g),t=p.length*$,n=0==$?0:m*$,r=0==$?0:t-Math.min(t,$*(m+g));return H(ep,[i,S,s.map((e,l)=>H(ef,[b[l],`${w}px`,`${A}px`,$>0?`${v[l]}px`:"auto",C[l],e.name,0!=c[l]?H(ec,[1==c[l]?`▲`:"▼",f[l]]):null])),s.map((e,l)=>H(eu,[k[l],x[l]])),`${n}px`,(e=e=>e,{d:G,p:{k:l.map(e),v:l.map(E)}}),`${r}px`])}}),ed=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d{3,})?(?:Z|[-+]\d{2}:?\d{2}))?$/,e$=/^(?:t(?:rue)?|f(?:alse)?|y(?:es)?|n(?:o)?|0|1)$/i,eg=["	","|",";",","];function em(e){return 65279===e.charCodeAt(0)?e.slice(1):e}const ev=JSON.stringify,ey=e=>"string"==typeof e?ev(e):e;function eb(e,l){let{type:t,parse:n}=l,r=`r[${e}]`,i=null!=n?`c[${e}].parse(${r})`:"d"===t?`new Date(${r})`:"t"===t?`Date.parse(${r})`:"j"===t?`JSON.parse(${r})`:"n"===t?`+${r}`:"b"===t[0]?`${r} === ${ev(t.slice(2))} ? true : false`:r,{repl:a}=l,s=void 0!==a.NaN&&"n"===t?`${r} === 'NaN' ? ${ey(a.NaN)} : `:"",o=void 0!==a.null?`${r} === 'null' || ${r} === 'NULL' ? ${ey(a.null)} : `:"",c=void 0!==a.empty?`${r} === '' ? ${ey(a.empty)} : `:"";return`${c} ${o} ${s} ${i}`}const ek=/\w+(?:\[|\]?[\.\[]?|$)/gm;function ex(e,l=!1,t=!1){let n="";if(l&&t){let l={},t=0,r=e.map(e=>e.name.replace(/\.(\d+)\.?/gi,"[$1]"));do{let e=r.shift(),n=/\s/.test(e)?[e]:[...e.matchAll(ek)].flatMap(e=>e.map(e=>e.replace("]",""))),i=l;do{let e=n.shift(),l=e,r=e.at(-1);if("."==r||"["==r){let t=i[l=e.slice(0,-1)]??("."==r?{}:[]);i=i[l]=t}else i[l]=`\xa6${t}\xa6`}while(n.length>0);t++}while(r.length>0);n=ev(l).replace(/"¦(\d+)¦"/g,(l,t)=>eb(+t,e[+t]))}else!l&&e.every(e=>"s"===e.type)?n="r":(n=l?"{":"[",e.forEach((e,t)=>{n+=l?`${ev(e.name)}:`:"";let r=eb(t,e);n+=`${r},`}),n+=l?"}":"]");return Function("c",`return r => (${n});`)(e)}function ew(e,l,t=0,n=()=>!0,r=!0,i){e=em(e);let{row:a,col:s,encl:o,esc:c,trim:f}=l;o??=e.indexOf('"')>-1?'"':"",c??=o;let u=`${c}${o}`,p=i??l.cols.length,h=null!=i,d=a.length,$=s.length,g=o.charCodeAt(0),m=c.charCodeAt(0),v=a.charCodeAt(0),y=s.charCodeAt(0),b=["",!1],k=0,x=e.length-1,w=0,A=Array(p).fill(""),C=A.slice(),N=0,E=p-1,O=-1;if(""===o){for(;k<=x;)if(N===E){let l=e.indexOf(a,k);if(-1===l){if(!r)break;l=x+1}let i=e.slice(k,l);if(C[N]=f?i.trim():i,--t<0&&!1===n(C))return b[1]=!0,b;C=A.slice(),N=0,O=-1,w=k=l+d}else if(0===N&&e.charCodeAt(k)===v)k+=d;else{let l=e.indexOf(s,k);if(-1===l&&!r)break;let t=e.slice(k,l);C[N]=f?t.trim():t,k=l+$,O=N++}return--t<0&&r&&N===E&&O>-1&&n(C),b[0]=r?"":e.slice(w),b}let S=h?RegExp(`[^${s}${a}]+`,"my"):null,T=0,L="",M=0,R=k;for(;k<=x;){if(M=e.charCodeAt(k),0===T)if(M===g){if(T=2,k+=1,R=k,k>x)break;M=e.charCodeAt(k)}else if(M===y||M===v){if(M===v&&0===N){k+=d;continue}if(C[N]=L,O=N,N+=1,k+=1,L="",M===v){if(h&&O<E&&0===w&&(C.length=A.length=O+1,E=O),--t<0&&!1===n(C))return b[1]=!0,b;C=A.slice(),N=0,O=-1,k+=d-1,w=k}if(k>x)break}else if(f&&32===M)for(;32===M;)M=e.charCodeAt(++k);else T=1;if(2===T){let l=!1,t=0;for(;;)if(M===g)if(g===m){if(k+1>x){t=k,k=x+1;break}if(e.charCodeAt(k+1)===g){if(l=!0,(k+=2)>x)break;M=e.charCodeAt(k)}else{T=0,t=k,k+=1;break}}else if(e.charCodeAt(k-1)===m){if(l=!0,(k+=1)>x)break;M=e.charCodeAt(k)}else{T=0,t=k,k+=1;break}else{let l=e.indexOf(o,k);if(-1===l){k=x+1;break}k=l,M=g}(0===T||k>x)&&(L=l?e.slice(R,t).replaceAll(u,o):e.slice(R,t))}else if(1===T)if(M===y||M===v){if(M===v&&0===N){k+=d;continue}if(C[N]=L,O=N,N+=1,k+=1,L="",M===v){if(h&&O<E&&0===w&&(C.length=A.length=O+1,E=O),--t<0&&!1===n(C))return b[1]=!0,b;C=A.slice(),N=0,O=-1,k+=d-1,w=k}T=0}else if(h){S.lastIndex=k;let l=S.exec(e)[0];L=l,k+=l.length}else{let l=e.indexOf(N===E?a:s,k);-1===l&&(l=x+1);let t=e.slice(k,l);L=f?t.trim():t,k=l}}r&&N===E&&(C[N]=L,--t<0&&n(C),T=0);let j=!r&&(0!==T||(-1===O?""!==L:O<E));return b[0]=j?e.slice(w):"",b}const eA=Y(V('<div style="width:600px;height:600px;background:pink;user-select:none">Drag/drop CSV here...</div>'),1,[1542,1038],l,l),eC=U(e=>{let l=l=>{for(let t of(l.preventDefault(),l.dataTransfer.items))if("file"==t.kind){let l=t.getAsFile();l.name.endsWith(".csv")&&l.text().then(l=>{console.time("parse");let t=function(e,l,t){let{header:n,col:r,row:i,encl:a,esc:s,trim:o=!1}=l??{};n??=e=>[e[0]],t??=10,e=em(e);let c=RegExp(`(.*)(${i??"\r\n|\r|\n"})`),f=e.match(c),u=f[1];i??=f[2];let p={skip:1,col:r??=eg.find(e=>u.indexOf(e)>-1)??",",row:i,encl:a,esc:s,trim:o,cols:[]},h=u.split(r).length,d=[];ew(e,p,0,e=>(d.push(e),d.length<t),!0,h);let $=n(d)??[],g=p.skip=$.length,m=$.find(e=>null!=e)??[...Array(d[0].length).keys()];return d.splice(0,g),m.forEach((e,l)=>{let t=function(e,l){let t=l.findLast(l=>""!==l[e]&&"null"!==l[e]&&"NULL"!==l[e]&&"NaN"!==l[e]),n="s";if(null!=t){let l=t[e];n=ed.test(l)?"d":+l==+l?"n":e$.test(l)?"b:"+function(e){let[l,t=""]=e;return"1"==l||"0"==l?"1":"t"==l||"f"==l?""==t?"t":"true":"T"==l||"F"==l?""==t?"T":"R"==t||"A"===t?"TRUE":"True":"y"==l||"n"==l?""==t?"y":"yes":"Y"==l||"N"==l?""==t?"Y":"E"==t||"O"===t?"YES":"Yes":""}(l):!function(e){if("["===e[0]||"{"===e[0])try{return JSON.parse(e),!0}catch{}return!1}(l)?n:"j"}return n}(l,d);p.cols.push({name:e,type:t,repl:{empty:null,NaN:void 0,null:void 0}})}),p}(l,{},100);t.cols.forEach(e=>{"d"===e.type&&(e.type="s")});let n=(function(e){let{skip:l,cols:t}=e,n=null,r=null,i=null,a=null,s=null,o=0,c=null,f=null,u="",p=null;function h(){o=0,u="",c=f=p=null}let d=(e,l,t)=>(t(l,e),!0),$=()=>[],g=()=>t.map(e=>[]),m=(e,l)=>{e.push(l)},v=(e,l)=>{for(let n=0;n<t.length;n++)e[n].push(l[n])};function y(t,n,r){let i=null;return(a,s=d)=>{i??=r();let c=null==p?l:0,f=p??=t(),$=0===o||2===o,g=!1;if(Array.isArray(a))for(let e=0;e<a.length;e++){let l=a[e];if(!1===s(i(l),f,n)){g=!0;break}}else[u,g]=ew(a,e,c,e=>s(i(e),f,n),$);return g&&0!==o&&h(),$&&(p=null),f}}let b=()=>n??=e=>e,k=()=>r??=ex(t,!1,!1),x=y($,m,b),w=y($,m,()=>s??=ex(t.map(e=>({...e,type:"s",repl:{...e.repl,empty:void 0}})),!0,!1)),A=y($,m,k),C=y($,m,()=>i??=ex(t,!0,!1)),N=y($,m,()=>a??=ex(t,!0,!0)),E=y(g,v,k);return{schema:e,stringArrs:x,stringObjs:w,stringCols:y(g,v,b),typedArrs:A,typedObjs:C,typedDeep:N,typedCols:E,chunk(e,l=x,t=d){c??=l,f??=t,o=1,c(u+e,f)},end(){o=2;let e=c(u,f);return h(),e}}})(t).typedArrs(l);console.timeEnd("parse"),z(e).setData({schema:t,data:n})})}},t=e=>{e.preventDefault()};return()=>H(eA,[l,t])}),eN=U(e=>{let l,[t,n]=(l=null,[()=>l,t=>{t!==l&&(l=t,X(e))}]);return()=>{let e=t();return null==e?eC({setData:n}):eh(e)}});((e,l,t)=>{let{p:n,n:r}=L,i=e.v.p;L.p=i.p,L.n=i.n,e.f=32,e.c=F(e,e.c,l,0),R(),L.p=n,L.n=r,K(e,0)})(Z(document.body),eN());
//# sourceMappingURL=bundle.min.js.map
